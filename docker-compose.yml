# docker-compose.yml - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ãƒã‚¦ãƒ³ãƒˆç‰ˆï¼ˆæœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ï¼‰
version: '3.8'

services:
  graphai-demo:
    build: .
    container_name: graphai-parallel-demo
    ports:
      - "3000:3000"
    volumes:
      # ğŸš€ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã‚’ãƒã‚¦ãƒ³ãƒˆï¼ˆé–‹ç™ºãƒ¢ãƒ¼ãƒ‰ï¼‰
      - .:/app
      # node_modulesã¯é™¤å¤–ï¼ˆã‚³ãƒ³ãƒ†ãƒŠå†…ã®ã‚‚ã®ã‚’ä½¿ç”¨ï¼‰
      - /app/node_modules
    environment:
      - NODE_ENV=development  # é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã«å¤‰æ›´
      - TZ=Asia/Tokyo
    command: node run-demo-showcase.js
    
  # Webã‚µãƒ¼ãƒãƒ¼ç”¨ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  web-server:
    build: .
    container_name: graphai-web
    ports:
      - "3001:3000"
    volumes:
      - .:/app
      - /app/node_modules
    environment:
      - TZ=Asia/Tokyo
    command: node start-web-server.js
    depends_on:
      - graphai-demo