# ğŸš€ GraphAI ç”»åƒå‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ ãƒ‡ãƒ¢

GraphAIã‚’ä½¿ç”¨ã—ãŸä¸¦åˆ—ç”»åƒå‡¦ç†ã®ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚
3ã¤ã®ç”»åƒã‚’åŒæ™‚ã«ã€Œãƒ¢ã‚¶ã‚¤ã‚¯ â†’ å›è»¢ â†’ ãƒªã‚µã‚¤ã‚ºã€ã®å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚

## ğŸ“‹ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### æ–°ã—ã„å‡¦ç†ã‚¹ãƒ†ãƒƒãƒ—è¿½åŠ 

`imageAgent.js` ã«æ–°ã—ã„å‡¦ç†ã‚’è¿½åŠ ï¼š

```javascript
case 'blur':
  result = await this.blurImage(namedInputs[0], params);
  break;

async blurImage(inputPath, params) {
  const { sigma = 3, outputPath } = params;
  
  await this.ensureDir(path.dirname(outputPath));
  
  await sharp(inputPath)
    .blur(sigma)
    .jpeg({ quality: 90 })
    .toFile(outputPath);
  
  return { outputPath, sigma };
}
```

## ğŸ¯ ãƒ‡ãƒ¢ã®ãƒã‚¤ãƒ³ãƒˆ

### GraphAIã®åˆ©ç‚¹
- **å®£è¨€çš„è¨˜è¿°**: YAMLã§å‡¦ç†ãƒ•ãƒ­ãƒ¼ã‚’å®šç¾©
- **è‡ªå‹•ä¸¦åˆ—åŒ–**: ä¾å­˜é–¢ä¿‚ã®ãªã„å‡¦ç†ã‚’è‡ªå‹•ä¸¦åˆ—å®Ÿè¡Œ
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å€‹åˆ¥å‡¦ç†ã®å¤±æ•—ãŒå…¨ä½“ã«å½±éŸ¿ã—ãªã„
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: ç”»åƒæ•°ã‚„ã‚¹ãƒ†ãƒƒãƒ—æ•°ã®è¿½åŠ ãŒå®¹æ˜“

### å¾“æ¥æ‰‹æ³•ã¨ã®æ¯”è¼ƒ
```javascript
// å¾“æ¥ã®ã‚³ãƒ¼ãƒ‰
for (let i = 0; i < images.length; i++) {
  const mosaic = await applyMosaic(images[i]);
  const rotated = await rotateImage(mosaic);
  const resized = await resizeImage(rotated);
}

// GraphAI
// YAMLè¨­å®šã®ã¿ã§ä¸¦åˆ—å‡¦ç†ãŒå®Ÿç¾
```

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### 1. sharp ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼
```bash
# è§£æ±ºæ–¹æ³•
npm install --platform=darwin --arch=x64 sharp
# ã¾ãŸã¯
npm rebuild sharp
```

#### 2. ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„
```bash
# images/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
ls images/
# image1.jpg, image2.jpg, image3.jpg ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
```

#### 3. ãƒãƒ¼ãƒˆ3000ãŒä½¿ç”¨ä¸­
```bash
# ä»–ã®ãƒãƒ¼ãƒˆã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
PORT=3001 npm run demo
```

#### 4. GraphAI ãƒãƒ¼ã‚¸ãƒ§ãƒ³å•é¡Œ
```bash
# æœ€æ–°ç‰ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install @receptron/graphai@latest
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
graphai-image-demo/
â”œâ”€â”€ package.json          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
â”œâ”€â”€ graph.yaml            # GraphAIè¨­å®š
â”œâ”€â”€ imageAgent.js         # ç”»åƒå‡¦ç†ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
â”œâ”€â”€ run-demo.js          # ãƒ‡ãƒ¢å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ README.md            # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ images/              # å…¥åŠ›ç”»åƒ
â”‚   â”œâ”€â”€ image1.jpg
â”‚   â”œâ”€â”€ image2.jpg
â”‚   â””â”€â”€ image3.jpg
â””â”€â”€ output/              # å‡¦ç†çµæœï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
    â”œâ”€â”€ image1_mosaic.jpg
    â”œâ”€â”€ image1_rotated.jpg
    â”œâ”€â”€ image1_final.jpg
    â”œâ”€â”€ image2_mosaic.jpg
    â”œâ”€â”€ image2_rotated.jpg
    â”œâ”€â”€ image2_final.jpg
    â”œâ”€â”€ image3_mosaic.jpg
    â”œâ”€â”€ image3_rotated.jpg
    â”œâ”€â”€ image3_final.jpg
    â””â”€â”€ processing_summary.json
```

## ğŸ¥ ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### 1. å°å…¥ (2åˆ†)
ã€Œä»Šæ—¥ã¯GraphAIã¨ã„ã†ã€ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼æŒ‡å‘ã®AIå‡¦ç†ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚ç‰¹å¾´ã¯ã€YAMLã§å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’å®£è¨€çš„ã«å®šç¾©ã™ã‚‹ã ã‘ã§ã€è‡ªå‹•çš„ã«ä¸¦åˆ—å‡¦ç†ãŒå®Ÿç¾ã•ã‚Œã‚‹ã“ã¨ã§ã™ã€‚ã€

### 2. å•é¡Œè¨­å®š (1åˆ†)
ã€Œä¾‹ãˆã°ã€3æšã®ç”»åƒã«åŒã˜å‡¦ç†ï¼ˆãƒ¢ã‚¶ã‚¤ã‚¯â†’å›è»¢â†’ãƒªã‚µã‚¤ã‚ºï¼‰ã‚’é©ç”¨ã—ãŸã„ã¨ã—ã¾ã™ã€‚å¾“æ¥ãªã‚‰ã€forãƒ«ãƒ¼ãƒ—ã§1æšãšã¤é †ç•ªã«å‡¦ç†ã—ã¦ã„ã¾ã—ãŸã€‚GraphAIãªã‚‰ã€ä¸¦åˆ—å‡¦ç†ã§åŠ¹ç‡åŒ–ã§ãã¾ã™ã€‚ã€

### 3. å®Ÿæ¼” (5åˆ†)
```bash
# å®Ÿéš›ã«ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
npm run demo
```

ã€Œè¦‹ã¦ãã ã•ã„ã€3ã¤ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒåŒæ™‚ã«å‹•ãå§‹ã‚ã¾ã—ãŸã€‚å„å‡¦ç†ã®å®Œäº†ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒãƒãƒ©ãƒãƒ©ãªã®ã¯ã€å®Ÿéš›ã«ä¸¦åˆ—å‡¦ç†ã•ã‚Œã¦ã„ã‚‹è¨¼æ‹ ã§ã™ã€‚ã€

### 4. çµæœç¢ºèª (1åˆ†)
ã€Œãƒ–ãƒ©ã‚¦ã‚¶ã§çµæœã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚å…ƒç”»åƒã‹ã‚‰æœ€çµ‚ç”»åƒã¾ã§ã€å…¨ã‚¹ãƒ†ãƒƒãƒ—ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ã€

### 5. YAMLè¨­å®šèª¬æ˜ (1åˆ†)
ã€Œã“ã‚Œã‚‰ã®ä¸¦åˆ—å‡¦ç†ã¯ã€ãŸã£ãŸ50è¡Œã®YAMLè¨­å®šã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚ä¾å­˜é–¢ä¿‚ã¯è‡ªå‹•è§£æã•ã‚Œã€ä¸¦åˆ—åŒ–ã‚‚è‡ªå‹•çš„ã«è¡Œã‚ã‚Œã¾ã™ã€‚ã€

## ğŸŒŸ æ‹¡å¼µã‚¢ã‚¤ãƒ‡ã‚¢

### ã‚ˆã‚Šé«˜åº¦ãªãƒ‡ãƒ¢
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²æ—ãƒãƒ¼**: Web UIã§ã®å‡¦ç†çŠ¶æ³è¡¨ç¤º
- **å‹•ç”»å‡¦ç†**: ãƒ•ãƒ¬ãƒ¼ãƒ å˜ä½ã§ã®ä¸¦åˆ—å‡¦ç†
- **MLæ¨è«–**: è¤‡æ•°ãƒ¢ãƒ‡ãƒ«ã§ã®ä¸¦åˆ—äºˆæ¸¬
- **APIçµ±åˆ**: è¤‡æ•°ã®WebAPIã‹ã‚‰ã®ä¸¦åˆ—ãƒ‡ãƒ¼ã‚¿å–å¾—

### å®Ÿç”¨çš„ãªå¿œç”¨ä¾‹
- **ECã‚µã‚¤ãƒˆ**: å•†å“ç”»åƒã®ä¸€æ‹¬ãƒªã‚µã‚¤ã‚ºãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›
- **ãƒ¡ãƒ‡ã‚£ã‚¢**: å‹•ç”»ã®ã‚µãƒ ãƒã‚¤ãƒ«ç”Ÿæˆã¨å„ç¨®ã‚µã‚¤ã‚ºå‡ºåŠ›
- **åŒ»ç™‚**: åŒ»ç™‚ç”»åƒã®è¤‡æ•°è§£ææ‰‹æ³•ã§ã®ä¸¦åˆ—è¨ºæ–­æ”¯æ´
- **è£½é€ æ¥­**: å“è³ªæ¤œæŸ»ç”»åƒã®è¤‡æ•°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã®ä¸¦åˆ—è§£æ

---

**ğŸ¯ ã“ã®ãƒ‡ãƒ¢ã§ä¼ãˆãŸã„ã“ã¨**
GraphAIã¯ã€Œé›£ã—ã„ä¸¦åˆ—å‡¦ç†ã‚’ç°¡å˜ã«ã€å®Ÿç¾ã™ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚å®£è¨€çš„ãªè¨­å®šã ã‘ã§ã€é«˜æ€§èƒ½ãªä¸¦åˆ—å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir graphai-image-demo
cd graphai-image-demo

# package.jsonã‚’ä½œæˆï¼ˆä¸Šè¨˜ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚³ãƒ”ãƒ¼ï¼‰

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# å¿…è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir images output
```

### 2. ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®

ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š

- `graph.yaml` - GraphAIè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
- `imageAgent.js` - ç”»åƒå‡¦ç†ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
- `run-demo.js` - ãƒ‡ãƒ¢å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `package.json` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š

### 3. ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«æº–å‚™

`images/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»¥ä¸‹ã®ç”»åƒã‚’é…ç½®ï¼š
- `image1.jpg` - ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆç”»åƒ
- `image2.jpg` - ãƒ•ã‚©ãƒˆã‚°ãƒ©ãƒ•ã‚¡ãƒ¼ç”»åƒ  
- `image3.jpg` - ãƒšãƒƒãƒ‘ãƒ¼ç”»åƒ

**ç”»åƒã‚µã‚¤ã‚º**: æ¨å¥¨ 500x500pxä»¥ä¸Šï¼ˆä»»æ„ã®JPEGå½¢å¼ï¼‰

## ğŸ¬ å®Ÿè¡Œæ–¹æ³•

### ãƒ‡ãƒ¢å®Ÿè¡Œ

```bash
npm run demo
```

ã¾ãŸã¯

```bash
node run-demo.js
```

### å®Ÿè¡Œã®æµã‚Œ

1. **ä¸¦åˆ—å‡¦ç†é–‹å§‹**: 3ã¤ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒåŒæ™‚ã«å®Ÿè¡Œ
2. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²æ—**: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡¦ç†çŠ¶æ³è¡¨ç¤º
3. **çµæœå‡ºåŠ›**: `output/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å‡¦ç†æ¸ˆã¿ç”»åƒä¿å­˜
4. **Webè¡¨ç¤º**: `http://localhost:3000` ã§çµæœã‚’è¦–è¦šçš„ã«ç¢ºèª

## ğŸ“Š ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®æµã‚Œ

### äº‹å‰æº–å‚™ (1åˆ†)
```bash
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã„ã¦æº–å‚™
cd graphai-image-demo
npm run demo
```

### ãƒ‡ãƒ¢å®Ÿè¡Œ (5åˆ†)
1. **ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ**: `npm run demo` ã‚’å®Ÿè¡Œ
2. **ã‚³ãƒ³ã‚½ãƒ¼ãƒ«è¡¨ç¤º**: ä¸¦åˆ—å‡¦ç†ã®é€²æ—ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
3. **çµæœç¢ºèª**: ãƒ–ãƒ©ã‚¦ã‚¶ã§å‡¦ç†çµæœã‚’è¡¨ç¤º
4. **ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª**: `output/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«è¡¨ç¤º

### èª¬æ˜ãƒã‚¤ãƒ³ãƒˆ (4åˆ†)
- **YAMLè¨­å®š**: ã‚·ãƒ³ãƒ—ãƒ«ãªå®£è¨€çš„è¨˜è¿°
- **ä¸¦åˆ—å‡¦ç†**: 3ã¤ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒåŒæ™‚å®Ÿè¡Œ
- **ä¾å­˜é–¢ä¿‚**: ã‚°ãƒ©ãƒ•æ§‹é€ ã§ã®è‡ªå‹•æœ€é©åŒ–
- **æ‹¡å¼µæ€§**: æ–°ã—ã„å‡¦ç†ãƒãƒ¼ãƒ‰ã®è¿½åŠ ãŒå®¹æ˜“

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### å‡¦ç†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤‰æ›´

`graph.yaml` ã§å„å‡¦ç†ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æ•´ï¼š

```yaml
mosaic1:
  params:
    blockSize: 15  # ãƒ¢ã‚¶ã‚¤ã‚¯ãƒ–ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚º
    
rotate1:
  params:
    angle: 45      # å›è»¢è§’åº¦
    
resize1:
  params:
    width: 400     # ãƒªã‚µã‚¤ã‚ºå¹…
    height: 400    # ãƒªã‚µã‚¤ã‚ºé«˜ã•
```

###